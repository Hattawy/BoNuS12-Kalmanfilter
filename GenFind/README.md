GenFind
=======

Generic "Track Finder" package to provide appropriate "seed" tracks for GenFit 
without any hard-coded algorithmic dependencies to specific detector 
geometries.


Motivation for development:
---------------------------

GenFit exists as a "generic" package with general fitting methods available to 
reconstruct tracks in a variety of detectors. However, GenFit requires "seed" 
tracks to start with. Once given seeds, GenFit can use hit pruning and 
optimization algorithms to produce good reconstruction with imperfect 
beginnings.

GenFind is a generic package that determines suitable "seed" tracks from whole 
events. The input events can contain an unspecified number of tracks, and 
GenFind will separate out the hits corresponding to each component track as an 
isolated "seed," and pass these along to GenFit.

GenFind contains methods which create a conformal map of input hits, which will 
turn helical tracks into straight lines in conformal space. GenFind then uses a 
modified Hough Transform method to find lines via locating intersections in 
rho-theta space.

In addition to the library of transform and intersection finding methods, 
GenFind contains sample scripts to illustrate how to use these methods, and how 
to interface the track output in GenFind with the fitters from GenFit.


Further development:
--------------------

Currently, thresholds necessary for locating the intersections corresponding to 
track signatures are set by hand. These need to be dynamically set by reading 
geometries in from DD4hep. 

Currently, relatively simple hit and track data structures are used, add 
something more sophisticated.

Further develop standardized communication methods between GenFind, GenFit, 
DD4hep, and TGeo. 

Test performance numerically for efficiency and reconstruction, in more than 
one concept detector, to maximize true generality.


Example scripts:
----------------
These have been developed and tested on simulation output generated by DD4hep 
using the JLEIC tracker barrel and vertex detector geometries.


GenFind/src/GenFind/tests/HT_test.cxx

Most up to date script illustrating basic tests:
1) Combines single track simulated events to "fake multi-track events."
2) Conformally maps all points in the "multi-track event."
3) Performs modified hough transform and line-finding (one call in script.)
4) Illustrates plotting of up to three separated tracks, as well as the hough 
transform functions for each conformal hit.
5) Includes limited performance testing for accuracy of track separation.


GenFind/src/GenFind/tests/DisaggregatedHits.cxx

Script combines the output of the GenFind track separation algorithms, with the 
GenFit reconstruction of track kinematics.

1) Initializes geometry from DD4hep and initializes GenFit parameters.
2) Performs steps 1-3 from HT_test.cxx script.
3) Feeds the "seed tracks" separated by GenFind into GenFit track fitter.
4) prints the kinematic results

GenFind/src/GenFind/tests/IncludeVertexHits.cxx

Does the same as DisaggregatedHits, but for both vertex and tracker barrel 
hits.

Caveats:
For weird events, strong curlers, lots of extra hits, etc. these algorithms can 
fail and do so with segmentation faults, limiting ability to automatically 
check performance numerically. 



